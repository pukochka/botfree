"use strict";(self["webpackChunkwebappbott"]=self["webpackChunkwebappbott"]||[]).push([[413],{3413:(e,t,s)=>{s.r(t),s.d(t,{default:()=>rn});var a=s(9835),r=s(6970);function o(e,t,s,o,n,c){const l=(0,a.up)("Catalog"),i=(0,a.up)("q-tab-panel"),d=(0,a.up)("Profile"),u=(0,a.up)("Orders"),p=(0,a.up)("Basket"),m=(0,a.up)("FormOrder"),v=(0,a.up)("AppStyle"),w=(0,a.up)("BotRules"),g=(0,a.up)("SalesBot"),x=(0,a.up)("q-tab-panels"),f=(0,a.up)("OrderDanger"),k=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(x,{class:(0,r.C_)(["min",e.themeColor]),modelValue:e.viewTab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.viewTab=t),animated:"","transition-prev":"fade","transition-next":"fade"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{name:"catalog",class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(l)])),_:1}),(0,a.Wm)(i,{name:"profile",class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(d)])),_:1}),(0,a.Wm)(i,{name:"orders",class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(u)])),_:1}),(0,a.Wm)(i,{name:"basket",class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(p)])),_:1}),(0,a.Wm)(i,{name:"formsOrders",class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(m)])),_:1}),(0,a.Wm)(i,{name:"appStyle",class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(v)])),_:1}),(0,a.Wm)(i,{name:"rules",class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(w)])),_:1}),(0,a.Wm)(i,{name:"sales",class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(g)])),_:1})])),_:1},8,["class","modelValue"]),(0,a.Wm)(f)])),_:1})}var n=s(3100),c=s(1957);const l=e=>((0,a.dD)("data-v-85ab761a"),e=e(),(0,a.Cn)(),e),i={class:"q-pt-md max-xxl center"},d={class:"fixed-center z-max"},u={key:0,class:"bg-white q-pa-md rounded-borders"},p={class:"my-header flex items-end text-secondary"},m=(0,a.Uk)(" Корзина "),v={key:0,class:"q-ml-sm text-caption text-grey-7"},w={class:"max-xxl center row justify-end q-py-sm"},g={class:"max-xxl center column"},x={key:0,class:"text-h5 column text-secondary"},f=(0,a.Uk)(" В корзине пока пусто "),k={class:"max-xxl center flex"},_={key:0,class:"absolute fit flex flex-center bg-opacity z-max"},y={class:"row"},b={class:"col-12 col-sm-6"},h={class:"q-mb-sm"},q={class:"flex justify-between text-h5 text-weight-bold text-secondary"},W=l((()=>(0,a._)("div",{class:""},"Итого",-1))),Z={class:""},C={class:"flex justify-between text-caption text-grey-7"},U={class:""},D={class:""},B={class:"flex justify-between text-caption text-grey-7"},z=l((()=>(0,a._)("div",{class:""},"Выгода",-1))),I={class:"text-red-6"},S={class:"row q-col-gutter-md"},Q={class:"col-12 col-sm-6"},O={key:0,class:"col-12 col-sm-6"};function P(e,t,s,o,n,l){const P=(0,a.up)("q-spinner"),j=(0,a.up)("q-separator"),T=(0,a.up)("q-btn"),H=(0,a.up)("BasketProduct"),V=(0,a.up)("UseCoupon"),R=(0,a.up)("UseSales"),A=(0,a.up)("q-card-section"),Y=(0,a.up)("q-card"),K=(0,a.up)("BasketDialogClear"),$=(0,a.up)("OrderCreate");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",i,[(0,a._)("div",d,[e.viewBasket.loading["remove-all"]?((0,a.wg)(),(0,a.iD)("div",u,[(0,a.Wm)(P,{color:"secondary",size:"6rem"})])):(0,a.kq)("",!0)]),(0,a._)("div",p,[m,0!=e.viewBasket.data.countItems?((0,a.wg)(),(0,a.iD)("div",v," Товаров "+(0,r.zw)(e.viewBasket.data.countItems),1)):(0,a.kq)("",!0)]),(0,a.Wm)(j,{class:"q-my-xs",dark:e.viewUser.theme.is_dark},null,8,["dark"])]),(0,a._)("div",w,[0!=e.viewBasket.data.countItems?((0,a.wg)(),(0,a.j4)(T,{key:0,flat:"",dense:"",color:"secondary",icon:"delete",label:"Очистить корзину",onClick:t[0]||(t[0]=e=>o.sure=!o.sure)})):(0,a.kq)("",!0)]),(0,a._)("div",g,[0==e.viewBasket.data.countItems?((0,a.wg)(),(0,a.iD)("div",x,[f,(0,a.Wm)(T,{color:"secondary","text-color":"primary",class:"text-primary q-my-md",label:"К товарам",onClick:t[1]||(t[1]=t=>e.changeTabs("catalog"))})])):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.viewBasket.data.items,((e,t)=>((0,a.wg)(),(0,a.j4)(H,{key:t,product:e.product},null,8,["product"])))),128))]),(0,a._)("div",k,[0!=e.viewBasket.data.countItems?((0,a.wg)(),(0,a.j4)(Y,{key:0,class:"full-width relative-position",dark:e.viewUser.theme.is_dark},{default:(0,a.w5)((()=>[(0,a.Wm)(c.uT,{name:"fade"},{default:(0,a.w5)((()=>[e.viewBasket.loading["subtract"]||e.viewBasket.loading["remove"]||e.viewBasket.loading["add"]||e.viewBasket.loading["set-count"]?((0,a.wg)(),(0,a.iD)("div",_,[(0,a.Wm)(P,{color:"secondary",size:"5rem",class:"z-max"})])):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(A,{class:""},{default:(0,a.w5)((()=>[(0,a._)("div",y,[(0,a._)("div",b,[(0,a._)("div",h,[(0,a.Wm)(T,{"text-color":"primary",class:"fit",color:"secondary",unelevated:"",label:"Перейти к оформлению",onClick:t[2]||(t[2]=t=>e.getOrders({action:"create"}))})]),(0,a._)("div",q,[W,(0,a._)("div",Z,(0,r.zw)(e.viewBasket.data.sum),1)]),(0,a._)("div",C,[(0,a._)("div",U," Всего товаров : "+(0,r.zw)(e.viewBasket.data.count)+" шт. ",1),(0,a._)("div",D,(0,r.zw)(e.viewBasket.data.sum_full),1)]),(0,a._)("div",B,[z,(0,a._)("div",I,(0,r.zw)(l.benefit),1)])])]),(0,a._)("div",S,[(0,a._)("div",Q,[(0,a.Wm)(V)]),0!=e.viewBasket.data.discounts.length?((0,a.wg)(),(0,a.iD)("div",O,[(0,a.Wm)(R)])):(0,a.kq)("",!0)])])),_:1})])),_:1},8,["dark"])):(0,a.kq)("",!0)]),(0,a.Wm)(K,{modelValue:o.sure,"onUpdate:modelValue":t[3]||(t[3]=e=>o.sure=e)},null,8,["modelValue"]),(0,a.Wm)($)],64)}s(702);var j=s(499);const T=(0,a._)("span",{class:""},"Вы уверены, что хотите очистить всю корзину?",-1);function H(e,t,s,r,o,n){const c=(0,a.up)("q-card-section"),l=(0,a.up)("q-btn"),i=(0,a.up)("q-card-actions"),d=(0,a.up)("q-card"),u=(0,a.up)("q-dialog"),p=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(u,{persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{dark:e.viewUser.theme.is_dark},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:""},{default:(0,a.w5)((()=>[T])),_:1}),(0,a.Wm)(i,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(l,{flat:"",label:"Отмена",color:"secondary"},null,512),[[p]]),(0,a.wy)((0,a.Wm)(l,{flat:"",label:"Подтвердить",color:"red",onClick:t[0]||(t[0]=t=>e.getBasket({action:"remove-all"}))},null,512),[[p]])])),_:1})])),_:1},8,["dark"])])),_:1})}const V=(0,a.aZ)({setup(){return{}},computed:{...(0,n.Se)({viewUser:"user/viewUser"})},methods:{...(0,n.nv)({getBasket:"basket/getBasket"})}});var R=s(1639),A=s(7743),Y=s(4458),K=s(3190),$=s(1821),N=s(963),F=s(2146),E=s(9984),M=s.n(E);const G=(0,R.Z)(V,[["render",H]]),L=G;M()(V,"components",{QDialog:A.Z,QCard:Y.Z,QCardSection:K.Z,QCardActions:$.Z,QBtn:N.Z}),M()(V,"directives",{ClosePopup:F.Z});const X=e=>((0,a.dD)("data-v-a711fe4e"),e=e(),(0,a.Cn)(),e),J=X((()=>(0,a._)("div",{class:"text-h5 q-py-md text-secondary"},"Примененные скидки",-1))),ee={class:"row q-col-gutter-sm"},te={class:"outline rounded-borders q-pa-sm"},se={class:"text-subtitle1 text-secondary text-center"},ae={class:"text-subtitle2 text-center"};function re(e,t,s,o,n,c){const l=(0,a.up)("q-separator");return(0,a.wg)(),(0,a.iD)(a.HY,null,[J,(0,a._)("div",ee,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.viewBasket.data.discounts,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-12",key:s},[(0,a._)("div",te,[(0,a._)("div",se,(0,r.zw)(e.TagParser(t.info)),1),(0,a.Wm)(l),(0,a._)("div",ae,(0,r.zw)(e.TagParser(t.terms)),1)])])))),128))])],64)}s(8964);const oe=(0,a.aZ)({setup(){return{}},computed:{...(0,n.Se)({viewBasket:"basket/viewBasket"})},methods:{TagParser(e){let t=e;for(let s of["b","i","em","small","strong","q","s","u"]){let e=new RegExp(`<${s}>`);t=t.replace(e,""),e=new RegExp(`</${s}>`),t=t.replace(e,"")}return t}},mounted(){}});var ne=s(926);const ce=(0,R.Z)(oe,[["render",re],["__scopeId","data-v-a711fe4e"]]),le=ce;M()(oe,"components",{QSeparator:ne.Z});const ie=e=>((0,a.dD)("data-v-07556384"),e=e(),(0,a.Cn)(),e),de={class:""},ue=ie((()=>(0,a._)("div",{class:"text-h5 q-py-md text-secondary"},"Активировать купон",-1))),pe={key:0,class:"flex flex-center q-pa-md"},me={class:"row q-col-gutter-sm"},ve={key:0,class:"col-12"},we=ie((()=>(0,a._)("div",{class:"q-ma-xs text-subtitle1"}," У вас пока нет активированных купонов ",-1))),ge=[we],xe={key:1,class:"col-12"},fe={class:"outline rounded-borders q-pa-sm fit"},ke={class:"text-center text-weight-bold text-subtitle1"},_e=(0,a.Uk)(" Купон "),ye={class:"text-secondary"},be={class:"text-caption line"},he={class:"full-width column"},qe={key:1,class:""},We={class:"col-12"},Ze={key:0,class:"text-red-4 text-weight-bold text-caption"},Ce={class:"flex flex-center q-py-md"};function Ue(e,t,s,o,n,c){const l=(0,a.up)("q-spinner"),i=(0,a.up)("q-separator"),d=(0,a.up)("q-btn"),u=(0,a.up)("q-input");return(0,a.wg)(),(0,a.iD)("div",de,[ue,e.viewCoupon.loading["find-active"]?((0,a.wg)(),(0,a.iD)("div",pe,[(0,a.Wm)(l,{color:"secondary",size:"3em"})])):(0,a.kq)("",!0),(0,a._)("div",me,[!e.viewCoupon.loading["find-active"]&&e.viewCoupon.status?((0,a.wg)(),(0,a.iD)("div",ve,ge)):(0,a.kq)("",!0),e.viewCoupon.loading["find-active"]||e.viewCoupon.status?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",xe,[(0,a._)("div",fe,[(0,a._)("div",ke,[_e,(0,a._)("span",ye,(0,r.zw)(e.viewCoupon.data.code),1)]),(0,a.Wm)(i,{spaced:"",color:"secondary"}),(0,a._)("div",be,(0,r.zw)(e.viewCoupon.data.info),1),(0,a._)("div",he,[(0,a.Wm)(d,{padding:"4px 16px",size:"12px",class:"q-mt-sm self-end",dense:"",color:"red-6",icon:"clear",label:"Убрать купон",loading:e.viewCoupon.loading["deactivated"],"no-wrap":"","no-caps":"",flat:"",onClick:t[0]||(t[0]=t=>{e.getСoupon({action:"deactivated"}),e.coupon=""})},null,8,["loading"])])])]))]),e.viewCoupon.loading["find-active"]&&e.viewCoupon.loading["activate"]||!e.viewCoupon.status?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",qe,[(0,a.Wm)(u,{modelValue:e.coupon,"onUpdate:modelValue":t[1]||(t[1]=t=>e.coupon=t),type:"text",label:"Ввести купон",color:"secondary","bg-color":"primary",class:"rounded-borders",dense:"",borderless:"",outlined:""},null,8,["modelValue"]),(0,a._)("div",We,[e.viewCoupon.current?((0,a.wg)(),(0,a.iD)("div",Ze," Введен неверный купон ")):(0,a.kq)("",!0)]),(0,a._)("div",Ce,[(0,a.Wm)(d,{class:"fit",dense:"","text-color":"primary",color:"secondary",label:"Активировать",loading:e.viewCoupon.loading["activate"],onClick:t[2]||(t[2]=t=>e.getСoupon({action:"activate",coupon:e.coupon}))},null,8,["loading"])])]))])}const De=(0,a.aZ)({setup(){return{coupon:(0,j.iH)("")}},computed:{...(0,n.Se)({viewCoupon:"form/viewCoupon",viewUser:"user/viewUser"})},methods:{...(0,n.nv)({getСoupon:"form/getСoupon"})},mounted(){this.getСoupon({action:"find-active"})}});var Be=s(3940),ze=s(8942);const Ie=(0,R.Z)(De,[["render",Ue],["__scopeId","data-v-07556384"]]),Se=Ie;M()(De,"components",{QSpinner:Be.Z,QSeparator:ne.Z,QBtn:N.Z,QInput:ze.Z});const Qe={key:0,class:"absolute fit flex flex-center bg-opacity z-max"},Oe={class:"column justify-between q-pa-md",style:{"flex-grow":"1"}},Pe={class:""},je={class:"end-dots title"},Te={class:"text-caption text-weight-medium text-grey-7 end-dots caption"},He={class:"row col-sm-6 col-12"},Ve={class:"col-6"},Re={class:"col-sm-6 col-12"};function Ae(e,t,s,o,n,l){const i=(0,a.up)("q-spinner"),d=(0,a.up)("q-avatar"),u=(0,a.up)("q-btn"),p=(0,a.up)("BasketButtonGroup"),m=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(m,{class:"flex no-wrap col q-my-xs relative-position",dark:e.viewUser.theme.is_dark},{default:(0,a.w5)((()=>[(0,a.Wm)(c.uT,{name:"fade"},{default:(0,a.w5)((()=>[(e.viewBasket.loading["subtract"]||e.viewBasket.loading["remove"]||e.viewBasket.loading["add"]||e.viewBasket.loading["set-count"])&&e.viewBasket.elem==s.product.id?((0,a.wg)(),(0,a.iD)("div",Qe,[(0,a.Wm)(i,{color:"secondary",size:"5rem",class:"z-max"})])):(0,a.kq)("",!0)])),_:1}),(0,a._)("div",{class:(0,r.C_)(["bg-primary width",{"flex flex-center":!s.product.design.image}])},[s.product.design.image?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(d,{key:0,size:"56px","font-size":"40px",color:"transparent","text-color":"secondary",icon:"image"})),(0,a._)("div",{class:"img",style:(0,r.j5)({"background-image":`url(${s.product.design.image})`})},null,4)],2),(0,a._)("div",Oe,[(0,a._)("div",Pe,[(0,a._)("div",je,(0,r.zw)(s.product.design.title),1),(0,a._)("div",Te,(0,r.zw)(s.product.design.rules),1)]),(0,a._)("div",{class:(0,r.C_)(["row items-center",{"q-gutter-sm":o.width}])},[(0,a._)("div",He,[(0,a._)("div",Ve,[(0,a.Wm)(u,{color:"secondary",dense:"",flat:"","no-wrap":"",class:"text-h6 text-weight-bold",padding:"0px 4px",label:s.product.price.amount+" "+l.convertСurrency},null,8,["label"])]),(0,a._)("div",{class:(0,r.C_)(["col-6",{"flex justify-end":o.width}])},[(0,a.Wm)(u,{dense:"",flat:"",color:"secondary",icon:"clear","no-caps":"","no-wrap":"",onClick:t[0]||(t[0]=t=>e.getBasket({action:"remove",category_id:s.product.id}))})],2)]),(0,a._)("div",Re,[(0,a.Wm)(p,{prod:s.product},null,8,["prod"])])],2)])])),_:1},8,["dark"])}var Ye=s(9302);const Ke={class:"relative-position"},$e={key:0,class:"flex flex-center text-white bg-grey rounded-borders",style:{padding:"8px","text-transform":"uppercase"}},Ne={key:1,class:"flex no-wrap flex-center rounded-borders justify-between count text-secondary text-h6"},Fe={class:"q-px-xs absolute-center"};function Ee(e,t,s,o,n,l){const i=(0,a.up)("q-btn"),d=(0,a.up)("q-input"),u=(0,a.up)("q-popup-edit");return(0,a.wg)(),(0,a.iD)("div",Ke,[l.countInBasket==s.prod.setting.count||0==s.prod.setting.count?((0,a.wg)(),(0,a.iD)("div",$e," Нет в наличии ")):(0,a.kq)("",!0),l.hasBasketItem&&(l.countInBasket<s.prod.setting.count||0!=s.prod.setting.count)?((0,a.wg)(),(0,a.iD)("div",Ne,[(0,a.Wm)(i,{padding:"4px",flat:"",color:"secondary",icon:"remove",onClick:t[0]||(t[0]=t=>e.getBasket({action:"subtract",category_id:s.prod.id}))}),(0,a._)("div",Fe,[(0,a.Uk)((0,r.zw)(l.countInBasket)+" ",1),(0,a.Wm)(u,{modelValue:l.countInBasket,"onUpdate:modelValue":t[1]||(t[1]=e=>l.countInBasket=e),modelModifiers:{number:!0}},{default:(0,a.w5)((t=>[(0,a.Wm)(d,{type:"number",color:"secondary",autofocus:"",dense:"",modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,"input-class":"text-grey-9",rules:[e=>l.validateCount(e)||"Количество товара введено неверно"],hint:"Введите количество товара"},{append:(0,a.w5)((()=>[(0,a.Wm)(i,{flat:"",dense:"",color:"negative",icon:"clear",onClick:(0,c.iM)(t.cancel,["stop"])},null,8,["onClick"]),l.validateCount(t.value)?((0,a.wg)(),(0,a.j4)(i,{key:0,flat:"",dense:"",color:"positive",icon:"check",onClick:[a=>e.getBasket({action:"set-count",category_id:s.prod.id,count:+t.value}),(0,c.iM)(t.cancel,["stop"])]},null,8,["onClick"])):(0,a.kq)("",!0)])),_:2},1032,["modelValue","onUpdate:modelValue","rules"])])),_:1},8,["modelValue"])]),l.countInBasket<s.prod.setting.max_count?((0,a.wg)(),(0,a.j4)(i,{key:0,padding:"4px",flat:"",color:"secondary",icon:"add",onClick:t[2]||(t[2]=t=>e.getBasket({action:"add",category_id:s.prod.id}))})):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])}const Me={props:{prod:{type:Object}},setup(){return{count:(0,j.iH)(0)}},computed:{...(0,n.Se)({viewBasket:"basket/viewBasket"}),countInBasket(){var e;return null===(e=this.viewBasket.data.items.find((e=>e.product.id==this.prod.id)))||void 0===e?void 0:e.count},hasBasketItem(){return!!this.viewBasket.data.items.find((e=>e.product.id==this.prod.id))}},methods:{...(0,n.nv)({getBasket:"basket/getBasket"}),validateCount(e){return Number(e)>Number(this.prod.setting.min_count)&&Number(e)<Number(this.prod.setting.max_count)}},watch:{}};var Ge=s(4496);const Le=(0,R.Z)(Me,[["render",Ee],["__scopeId","data-v-b33ea276"]]),Xe=Le;M()(Me,"components",{QBtn:N.Z,QPopupEdit:Ge.Z,QInput:ze.Z});const Je={props:["product"],components:{BasketButtonGroup:Xe},setup(){const e=(0,Ye.Z)(),t=(0,a.Fl)((()=>e.screen.lt.sm));return{width:t}},computed:{...(0,n.Se)({viewBasket:"basket/viewBasket",viewUser:"user/viewUser"}),convertСurrency(){switch(this.product.price.currency){case"RUB":return"₽";case"USD":return"$";case"EUR":return"€";case"UAH":return"₴";case"KZT":return"₸";default:return this.product.price.currency}}},methods:{...(0,n.nv)({getBasket:"basket/getBasket"})}};var et=s(1357);const tt=(0,R.Z)(Je,[["render",Ae],["__scopeId","data-v-715765b9"]]),st=tt;function at(e,t,s,r,o,n){const c=(0,a.up)("q-spinner"),l=(0,a.up)("q-card"),i=(0,a.up)("q-dialog");return(0,a.wg)(),(0,a.j4)(i,{modelValue:e.viewOrders.loading.create,"onUpdate:modelValue":t[0]||(t[0]=t=>e.viewOrders.loading.create=t),persistent:"",maximized:"","transition-show":"fade","transition-hide":"fade"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{class:"bg-opacity flex flex-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{color:"secondary",size:"10rem"})])),_:1})])),_:1},8,["modelValue"])}M()(Je,"components",{QCard:Y.Z,QSpinner:Be.Z,QAvatar:et.Z,QBtn:N.Z});const rt=(0,a.aZ)({setup(){return{}},computed:{...(0,n.Se)({viewOrders:"order/viewOrders"})}}),ot=(0,R.Z)(rt,[["render",at]]),nt=ot;M()(rt,"components",{QDialog:A.Z,QCard:Y.Z,QSpinner:Be.Z});const ct={props:{},components:{BasketProduct:st,BasketDialogClear:L,OrderCreate:nt,UseSales:le,UseCoupon:Se},setup(){return{sure:(0,j.iH)(!1)}},computed:{...(0,n.Se)({viewBasket:"basket/viewBasket",viewUser:"user/viewUser"}),benefit(){const e=e=>Number([...e].slice(0,e.length-2).join("")),t=e=>[...e].slice(e.length-1,e.length).join("");let s=e(this.viewBasket.data.sum_full),a=e(this.viewBasket.data.sum),r=(a-s).toFixed(2),o=t(this.viewBasket.data.sum);return" "+r+" "+o}},methods:{...(0,n.nv)({getBasket:"getBasket",getOrders:"order/getOrders"}),...(0,n.OI)({changeTabs:"user/changeUserTab"}),convertСurrency(e){switch(e){case"RUB":return"₽";case"USD":return"$";case"EUR":return"€";case"UAH":return"₴";case"KZT":return"₸";default:return e}}}},lt=(0,R.Z)(ct,[["render",P],["__scopeId","data-v-85ab761a"]]),it=lt;M()(ct,"components",{QSpinner:Be.Z,QSeparator:ne.Z,QBtn:N.Z,QCard:Y.Z,QCardSection:K.Z});const dt=e=>((0,a.dD)("data-v-7bd34bb3"),e=e(),(0,a.Cn)(),e),ut={key:0,class:"row max-xxl center"},pt={class:"rounded-borders text-secondary text-h4 col-12 decoration text-weight-bolder q-pa-sm"},mt={key:0,class:"fixed-center"},vt={key:0,class:"center max-xxl min-size-xl q-px-sm"},wt={class:""},gt={class:"q-py-md row items-center"},xt={class:"row q-col-gutter-xs"},ft=["onClick"],kt={key:0,class:"q-pb-lg"},_t={class:"my-header q-py-md text-secondary"},yt=(0,a.Uk)(" Товары "),bt=(0,a.Uk)("из категории "),ht={class:""},qt={class:"row q-col-gutter-xs"},Wt={key:0,class:"col-12 flex flex-center"},Zt=dt((()=>(0,a._)("div",{class:"active bg-primary q-pa-md text-center rounded-borders flex flex-center relative-position"},[(0,a._)("div",{class:"active-drop fit absolute-center"}),(0,a._)("div",{class:"text-white text-subtitle1"},"Товаров пока нет")],-1))),Ct=[Zt];function Ut(e,t,s,o,n,l){const i=(0,a.up)("q-spinner"),d=(0,a.up)("CategoryProduct"),u=(0,a.up)("ProductItem");return(0,a.wg)(),(0,a.iD)(a.HY,null,[e.width?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",ut,[(0,a._)("span",pt,(0,r.zw)(e.info.bot.title),1)])),(0,a.Wm)(c.uT,{name:"fade"},{default:(0,a.w5)((()=>[e.viewProducts.loading?((0,a.wg)(),(0,a.iD)("div",mt,[(0,a.Wm)(i,{color:"secondary",size:"6rem"})])):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(c.uT,{name:"fade"},{default:(0,a.w5)((()=>[e.viewProducts.loading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",vt,[(0,a._)("div",wt,[(0,a._)("div",gt,[(0,a._)("div",{class:"my-header text-secondary cursor-pointer",onClick:t[0]||(t[0]=t=>e.getProducts({category:0,text:""}))}," Категории ")]),(0,a._)("div",xt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.viewItemsCategory,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-3 col-6",key:s,onClick:s=>e.getProducts({category:t.id,text:t.design.title})},[(0,a.Wm)(d,{product:t},null,8,["product"])],8,ft)))),128))])]),0!=e.viewProducts.now?((0,a.wg)(),(0,a.iD)("div",kt,[(0,a._)("div",_t,[yt,(0,a._)("span",null,[bt,(0,a._)("span",ht,(0,r.zw)(e.viewProducts.textNow),1)])]),(0,a._)("div",qt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.viewItemsProduct,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-3 col-6",key:t},[(0,a.Wm)(u,{class:"",product:e},null,8,["product"])])))),128)),0==e.viewItemsProduct.length?((0,a.wg)(),(0,a.iD)("div",Wt,Ct)):(0,a.kq)("",!0)])])):(0,a.kq)("",!0)]))])),_:1})],64)}const Dt={key:0,class:"absolute fit flex flex-center bg-opacity z-max rounded-borders"},Bt={class:"q-pa-md"},zt={class:"end-dots title text-secondary"},It={class:"text-caption text-weight-medium text-grey-7 end-dots caption"},St={class:"row"},Qt={key:0,class:"col-12 col-sm-4"},Ot={class:"col-12 col-sm-4"},Pt={class:"q-py-md"};function jt(e,t,s,o,n,l){const i=(0,a.up)("q-spinner"),d=(0,a.up)("q-avatar"),u=(0,a.up)("q-btn"),p=(0,a.up)("ProductButtonGroup"),m=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(m,{class:"fit",dark:e.viewUser.theme.is_dark},{default:(0,a.w5)((()=>[(0,a.Wm)(c.uT,{name:"fade"},{default:(0,a.w5)((()=>[(e.viewBasket.loading["subtract"]||e.viewBasket.loading["remove"]||e.viewBasket.loading["add"]||e.viewBasket.loading["set-count"])&&e.viewBasket.elem==s.product.id?((0,a.wg)(),(0,a.iD)("div",Dt,[(0,a.Wm)(i,{color:"secondary",size:"5rem",class:"z-max"})])):(0,a.kq)("",!0)])),_:1}),(0,a._)("div",{class:(0,r.C_)(["bg-primary",{"flex flex-center":!s.product.design.image}])},[s.product.design.image?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(d,{key:0,size:"56px","font-size":"40px",color:"transparent","text-color":"secondary",icon:"image"})),(0,a._)("div",{class:"img",style:(0,r.j5)({"background-image":`url(${s.product.design.image})`})},null,4)],2),(0,a._)("div",Bt,[(0,a._)("div",zt,(0,r.zw)(s.product.design.title),1),(0,a._)("div",It,(0,r.zw)(s.product.design.rules),1),(0,a._)("div",St,[0!=s.product.price.old_price?((0,a.wg)(),(0,a.iD)("div",Qt,[(0,a.Wm)(u,{class:(0,r.C_)(["text-weight-bold",{underline:0!=s.product.price.old_price}]),flat:"",size:"20px",padding:"0","no-wrap":"",color:0!=s.product.price.old_price?"red-5":"secondary",label:s.product.price.old_price+" "+l.convertСurrency},null,8,["class","color","label"])])):(0,a.kq)("",!0),(0,a._)("div",Ot,[(0,a.Wm)(u,{class:"text-weight-bold",flat:"",size:"20px",padding:"0",color:"secondary","no-wrap":"",label:s.product.price.full},null,8,["label"])])]),(0,a._)("div",Pt,[(0,a.Wm)(p,{class:"",prod:s.product},null,8,["prod"])])])])),_:1},8,["dark"])}const Tt={class:"absolute-bottom q-mx-sm q-my-sm"},Ht={key:1,class:"flex flex-center text-white fit bg-grey rounded-borders text-center",style:{padding:"7px","text-transform":"uppercase"}},Vt={key:2,class:"flex no-wrap flex-center rounded-borders justify-between count text-secondary text-h6 fit"},Rt={class:"q-px-xs absolute-center"};function At(e,t,s,o,n,l){const i=(0,a.up)("q-btn"),d=(0,a.up)("q-input"),u=(0,a.up)("q-popup-edit");return(0,a.wg)(),(0,a.iD)("div",Tt,[!l.hasBasketItem&&(l.countInBasket<s.prod.setting.count||0!=s.prod.setting.count)?((0,a.wg)(),(0,a.j4)(i,{key:0,label:"В корзину",color:"secondary","text-color":"primary",class:"fit",padding:"5px 0",onClick:t[0]||(t[0]=t=>e.getBasket({action:"add",category_id:s.prod.id}))})):(0,a.kq)("",!0),l.countInBasket==s.prod.setting.count||0==s.prod.setting.count?((0,a.wg)(),(0,a.iD)("div",Ht," Нет в наличии ")):(0,a.kq)("",!0),l.hasBasketItem&&(l.countInBasket<s.prod.setting.count||0!=s.prod.setting.count)?((0,a.wg)(),(0,a.iD)("div",Vt,[(0,a.Wm)(i,{padding:"4px",flat:"",color:"secondary",icon:"remove",onClick:t[1]||(t[1]=t=>e.getBasket({action:"subtract",category_id:s.prod.id}))}),(0,a._)("div",Rt,[(0,a.Uk)((0,r.zw)(l.countInBasket)+" ",1),(0,a.Wm)(u,{modelValue:l.countInBasket,"onUpdate:modelValue":t[2]||(t[2]=e=>l.countInBasket=e),modelModifiers:{number:!0}},{default:(0,a.w5)((t=>[(0,a.Wm)(d,{type:"number",color:"secondary",autofocus:"",dense:"",modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,rules:[e=>l.validateCount(e)||"Количество товара введено неверно"],hint:"Введите количество товара"},{append:(0,a.w5)((()=>[(0,a.Wm)(i,{flat:"",dense:"",color:"negative",icon:"clear",onClick:(0,c.iM)(t.cancel,["stop"])},null,8,["onClick"]),l.validateCount(t.value)?((0,a.wg)(),(0,a.j4)(i,{key:0,flat:"",dense:"",color:"positive",icon:"check",onClick:[a=>e.getBasket({action:"set-count",category_id:s.prod.id,count:+t.value}),(0,c.iM)(t.cancel,["stop"])]},null,8,["onClick"])):(0,a.kq)("",!0)])),_:2},1032,["modelValue","onUpdate:modelValue","rules"])])),_:1},8,["modelValue"])]),l.countInBasket<s.prod.setting.max_count?((0,a.wg)(),(0,a.j4)(i,{key:0,padding:"4px",flat:"",color:"secondary",icon:"add",onClick:t[3]||(t[3]=t=>e.getBasket({action:"add",category_id:s.prod.id}))})):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])}const Yt={props:{prod:{type:Object}},setup(){return{count:(0,j.iH)(0)}},computed:{...(0,n.Se)({viewBasket:"basket/viewBasket"}),countInBasket(){var e;return null===(e=this.viewBasket.data.items.find((e=>e.product.id==this.prod.id)))||void 0===e?void 0:e.count},hasBasketItem(){return this.viewBasket.data.items.find((e=>e.product.id==this.prod.id))}},methods:{...(0,n.nv)({getBasket:"basket/getBasket"}),validateCount(e){return Number(e)>Number(this.prod.setting.min_count)&&Number(e)<Number(this.prod.setting.max_count)}},watch:{}},Kt=(0,R.Z)(Yt,[["render",At],["__scopeId","data-v-1c9bc7aa"]]),$t=Kt;M()(Yt,"components",{QBtn:N.Z,QPopupEdit:Ge.Z,QInput:ze.Z});const Nt={components:{ProductButtonGroup:$t},props:["product"],computed:{...(0,n.Se)({viewBasket:"basket/viewBasket",viewUser:"user/viewUser"}),themeColor(){return this.viewUser.theme.is_dark?"bg-dark":"bg-white"},convertСurrency(){switch(this.product.price.currency){case"RUB":return"₽";case"USD":return"$";case"EUR":return"€";case"UAH":return"₴";case"KZT":return"₸";default:return this.product.price.currency}}},setup(){}},Ft=(0,R.Z)(Nt,[["render",jt],["__scopeId","data-v-46275882"]]),Et=Ft;M()(Nt,"components",{QCard:Y.Z,QSpinner:Be.Z,QAvatar:et.Z,QBtn:N.Z});const Mt=e=>((0,a.dD)("data-v-55e39510"),e=e(),(0,a.Cn)(),e),Gt={class:"fit active relative-position"},Lt=Mt((()=>(0,a._)("div",{class:"active-drop fit absolute-center rounded-borders"},null,-1))),Xt={class:"q-pb-sm text-h6 text-secondary text-weight-medium"};function Jt(e,t,s,o,n,c){const l=(0,a.up)("q-avatar");return(0,a.wg)(),(0,a.iD)("div",Gt,[Lt,(0,a._)("div",{class:(0,r.C_)(["bg-primary rounded-borders",{"flex flex-center":!s.product.design.image}])},[s.product.design.image?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(l,{key:0,size:"56px","font-size":"40px",color:"transparent","text-color":"secondary",icon:"image"})),(0,a._)("div",{class:"img",style:(0,r.j5)({"background-image":`url(${s.product.design.image})`})},null,4)],2),(0,a._)("div",Xt,(0,r.zw)(s.product.design.title),1)])}const es={props:["product"],setup(){const e=(0,Ye.Z)(),t=(0,a.Fl)((()=>e.screen.lt.sm));return{width:t}}},ts=(0,R.Z)(es,[["render",Jt],["__scopeId","data-v-55e39510"]]),ss=ts;M()(es,"components",{QAvatar:et.Z});const as=(0,a.aZ)({name:"IndexPage",components:{ProductItem:Et,CategoryProduct:ss},setup(){const e=(0,Ye.Z)(),t=(0,a.Fl)((()=>e.screen.lt.sm));return{width:t,search:(0,j.iH)("")}},computed:{...(0,n.Se)({info:"info/viewInfo",viewProducts:"products/viewProducts",viewUser:"user/viewUser"}),viewItemsCategory(){return this.viewProducts.data.filter((e=>0==e.type))},viewItemsProduct(){return this.viewProducts.data.filter((e=>0!=e.type))}},methods:{...(0,n.nv)({getProducts:"products/getProducts",getReferalBalance:"form/getReferalBalance"})}}),rs=(0,R.Z)(as,[["render",Ut],["__scopeId","data-v-7bd34bb3"]]),os=rs;M()(as,"components",{QSeparator:ne.Z,QSpinner:Be.Z});const ns={class:""};function cs(e,t,s,o,n,c){const l=(0,a.up)("AllOrders"),i=(0,a.up)("q-tab-panel"),d=(0,a.up)("CurrentOrder"),u=(0,a.up)("q-tab-panels");return(0,a.wg)(),(0,a.iD)("div",ns,[(0,a.Wm)(u,{class:(0,r.C_)(e.themeColor),modelValue:e.viewOrders.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.viewOrders.tab=t),animated:"","transition-next":"slide-left","transition-prev":"slide-right"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{name:"all"},{default:(0,a.w5)((()=>[(0,a.Wm)(l)])),_:1}),(0,a.Wm)(i,{name:"selected"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{select:e.viewOrders.select},null,8,["select"])])),_:1})])),_:1},8,["class","modelValue"])])}const ls=e=>((0,a.dD)("data-v-d4f749ca"),e=e(),(0,a.Cn)(),e),is={class:"max-xxl center q-px-md q-pt-lg"},ds={key:0,class:"fixed-center z-max"},us={class:"bg-opacity rounded-borders"},ps={class:"flex"},ms=ls((()=>(0,a._)("div",{class:"text-h4 text-secondary"},"Мои заказы",-1))),vs={class:"text-grey-8 text-caption self-end q-ml-sm"},ws={class:"max-xxl center q-pa-md"},gs={class:"text-secondary"},xs={key:0,class:"text-h4 text-center q-pa-lg"},fs={class:"q-px-sm q-py-sm text-subtitle1 text-secondary"},ks={class:"text-weight-bold"},_s=(0,a.Uk)(" Заказ от "),ys={class:""},bs={class:"text-weight-bold"},hs=(0,a.Uk)(" Номер "),qs={class:"text-secondary"},Ws={class:"text-weight-bold"},Zs=(0,a.Uk)(" Итого "),Cs={class:"text-secondary"},Us={class:"row q-col-gutter-sm q-pa-sm"},Ds={class:"row justify-end q-px-sm q-pb-sm"},Bs={class:"max-xxl center flex justify-end q-pa-sm q-pb-md"},zs={class:"flex no-wrap items-center"},Is={class:"text-secondary"};function Ss(e,t,s,o,n,c){const l=(0,a.up)("q-spinner"),i=(0,a.up)("q-separator"),d=(0,a.up)("OrderProduct"),u=(0,a.up)("q-btn");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",is,[e.viewOrders.loading.index?((0,a.wg)(),(0,a.iD)("div",ds,[(0,a._)("div",us,[(0,a.Wm)(l,{color:"secondary",class:"q-ma-xl",size:"6em"})])])):(0,a.kq)("",!0),(0,a._)("div",ps,[ms,(0,a._)("div",vs," Заказы "+(0,r.zw)(e.viewOrders.count),1)]),(0,a.Wm)(i,{class:"q-mt-sm",dark:e.viewUser.theme.is_dark},null,8,["dark"])]),(0,a._)("div",ws,[(0,a._)("div",gs,"Страница "+(0,r.zw)(e.page)+" из "+(0,r.zw)(e.countOfPages),1),0==e.viewOrders.data.length?((0,a.wg)(),(0,a.iD)("div",xs," Заказов пока нет ")):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.viewOrders.data,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,r.C_)(["rounded-borders q-my-md",e.themeBack]),key:s},[(0,a._)("div",fs,[(0,a._)("div",ks,[_s,(0,a._)("span",ys,(0,r.zw)(t.created_at),1)]),(0,a._)("div",bs,[hs,(0,a._)("span",qs,"#"+(0,r.zw)(t.id),1)]),(0,a._)("div",Ws,[Zs,(0,a._)("span",Cs,(0,r.zw)(t.price),1)])]),(0,a.Wm)(i,{class:"q-mx-sm",color:"secondary"}),(0,a._)("div",Us,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.items,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-12 col-md-4",key:t},[(0,a.Wm)(d,{item:e},null,8,["item"])])))),128))]),(0,a._)("div",Ds,[(0,a.Wm)(u,{padding:"4px 16px",flat:"",color:"secondary",label:"Повторить заказ"}),(0,a.Wm)(u,{padding:"4px 16px",flat:"",color:"secondary",label:"Подробнее",onClick:s=>e.changeOrdersSelect({order:t,tab:"selected"})},null,8,["onClick"])])],2)))),128)),(0,a._)("div",Bs,[(0,a._)("div",zs,[(0,a.Wm)(u,{disable:1==e.page,dense:"",flat:"",round:"",color:"secondary",icon:"chevron_left",onClick:e.prevPage},null,8,["disable","onClick"]),(0,a._)("div",Is,(0,r.zw)(e.page)+" из "+(0,r.zw)(e.countOfPages),1),(0,a.Wm)(u,{class:"cursor-pointer",disable:e.page==e.countOfPages,dense:"",title:"",flat:"",round:"",color:"secondary",icon:"chevron_right",onClick:e.nextPage},null,8,["disable","onClick"])])])])],64)}const Qs={class:"col-4"},Os={class:"col-8 q-pa-sm"},Ps={class:"end-dots title"},js={class:"text-caption text-weight-medium text-grey-7 end-dots caption"};function Ts(e,t,s,o,n,c){const l=(0,a.up)("q-avatar"),i=(0,a.up)("q-btn"),d=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(d,{class:"row q-pa-sm",dark:e.viewUser.theme.is_dark},{default:(0,a.w5)((()=>[(0,a._)("div",Qs,[(0,a._)("div",{class:(0,r.C_)(["bg-primary min rounded-borders",{"flex flex-center":!e.item.product.design.image}])},[e.item.product.design.image?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(l,{key:0,size:"56px","font-size":"40px",color:"transparent","text-color":"secondary",icon:"image"})),(0,a._)("div",{class:"img",style:(0,r.j5)({"background-image":`url(${e.item.product.design.image})`})},null,4)],2)]),(0,a._)("div",Os,[(0,a._)("div",Ps,(0,r.zw)(e.item.product.design.title),1),(0,a._)("div",js,(0,r.zw)(e.item.product.design.rules),1),(0,a.Wm)(i,{color:"secondary",dense:"",flat:"","no-wrap":"",ripple:!1,class:"text-h6 text-weight-bold",padding:"0px 4px",label:e.item.product.price.amount+" "+e.convertСurrency},null,8,["label"]),(0,a.Wm)(i,{color:"secondary",dense:"",flat:"","no-wrap":"",ripple:!1,class:"text-h6 text-weight-bold",padding:"0px 4px",label:"X","no-caps":""}),(0,a.Wm)(i,{color:"secondary",dense:"",flat:"","no-wrap":"",ripple:!1,class:"text-h6 text-weight-bold",padding:"0px 4px",label:e.item.count},null,8,["label"])])])),_:1},8,["dark"])}const Hs=(0,a.aZ)({props:["item"],setup(){return{}},computed:{...(0,n.Se)({viewUser:"user/viewUser"}),convertСurrency(){switch(this.item.product.price.currency){case"RUB":return"₽";case"USD":return"$";case"EUR":return"€";case"UAH":return"₴";case"KZT":return"₸";default:return this.item.product.price.currency}}}}),Vs=(0,R.Z)(Hs,[["render",Ts],["__scopeId","data-v-053ab8ac"]]),Rs=Vs;M()(Hs,"components",{QCard:Y.Z,QAvatar:et.Z,QBtn:N.Z});const As=(0,a.aZ)({components:{OrderProduct:Rs},setup(){return{page:(0,j.iH)(1),offset:(0,j.iH)(0)}},computed:{...(0,n.Se)({viewOrders:"order/viewOrders",viewUser:"user/viewUser"}),countOfPages(){return Math.ceil(this.viewOrders.count/3)},themeColor(){return this.viewUser.theme.is_dark?"bg-dark":"bg-white"},themeBack(){return this.viewUser.theme.is_dark?"bg-grey-9":"bg-grey-2"}},methods:{...(0,n.nv)({getOrders:"order/getOrders"}),...(0,n.OI)({changeOrdersSelect:"order/changeOrdersSelect"}),convertСurrency(e){switch(e){case"RUB":return"₽";case"USD":return"$";case"EUR":return"€";case"UAH":return"₴";case"KZT":return"₸";default:return e}},nextPage(){this.getOrders({action:"index",offset:this.offset+=3}),this.page++},prevPage(){this.getOrders({action:"index",offset:this.offset-=3}),this.page--}}}),Ys=(0,R.Z)(As,[["render",Ss],["__scopeId","data-v-d4f749ca"]]),Ks=Ys;M()(As,"components",{QSpinner:Be.Z,QSeparator:ne.Z,QBtn:N.Z});const $s={class:"max-xxl center"},Ns={class:"text-h6 q-py-sm"},Fs={class:"q-py-md"},Es={class:"text-weight-bold text-secondary"},Ms=(0,a.Uk)(" Номер заказа "),Gs={class:""},Ls={class:"text-subtitle1 text-secondary"},Xs=(0,a.Uk)(" Заказ от "),Js={class:""},ea={class:"q-py-md"},ta={class:"q-py-md"},sa={class:"q-py-md"},aa={class:"q-py-md"},ra={class:"text-weight-bold text-secondary"},oa=(0,a.Uk)(" Итого "),na={class:"text-secondary"};function ca(e,t,s,o,n,c){const l=(0,a.up)("q-btn"),i=(0,a.up)("q-separator"),d=(0,a.up)("UsedCoupon"),u=(0,a.up)("UsedDiscount"),p=(0,a.up)("UsedDelivery"),m=(0,a.up)("UsedPayment");return(0,a.wg)(),(0,a.iD)("div",$s,[(0,a.Wm)(l,{class:"q-mb-sm",flat:"",icon:"chevron_left",color:"secondary",onClick:t[0]||(t[0]=t=>e.changeOrdersSelect({order:{},tab:"all"}))}),(0,a.Wm)(i,{dark:e.viewUser.theme.is_dark},null,8,["dark"]),(0,a._)("div",Ns,[(0,a._)("div",Fs,[(0,a._)("div",Es,[Ms,(0,a._)("span",Gs,"#"+(0,r.zw)(e.select.id),1)]),(0,a.Wm)(i,{dark:e.viewUser.theme},null,8,["dark"]),(0,a._)("div",Ls,[Xs,(0,a._)("span",Js,(0,r.zw)(e.select.created_at),1)])]),(0,a._)("div",ea,[(0,a.Wm)(d,{coupon:e.select.coupon},null,8,["coupon"])]),(0,a._)("div",ta,[(0,a.Wm)(u,{item:{discount:e.select.discount,discounts:e.select.discounts}},null,8,["item"])]),(0,a._)("div",sa,[(0,a.Wm)(p,{delivery:e.select.delivery},null,8,["delivery"])]),(0,a._)("div",aa,[(0,a.Wm)(m,{payment:e.select.payment},null,8,["payment"])]),(0,a._)("div",ra,[oa,(0,a._)("span",na,(0,r.zw)(e.select.price),1)])])])}const la=e=>((0,a.dD)("data-v-5c668f05"),e=e(),(0,a.Cn)(),e),ia=la((()=>(0,a._)("div",{class:"text-weight-bold text-secondary"},"Использованный купон",-1))),da={key:0,class:"text-subtitle1 text-red-5"},ua={key:1,class:"row"},pa={class:"text-subtitle2 col-12 col-md-3 col-sm-6 outline text-secondary q-my-sm q-pa-sm rounded-borders"};function ma(e,t,s,o,n,c){const l=(0,a.up)("q-separator");return(0,a.wg)(),(0,a.iD)(a.HY,null,[ia,(0,a.Wm)(l,{dark:e.viewUser.theme.is_dark},null,8,["dark"]),""==e.coupon||null==e.coupon?((0,a.wg)(),(0,a.iD)("div",da," Купон не был введён ")):(0,a.kq)("",!0),null!=e.coupon?((0,a.wg)(),(0,a.iD)("div",ua,[(0,a._)("div",pa,(0,r.zw)(e.coupon),1)])):(0,a.kq)("",!0)],64)}const va=(0,a.aZ)({props:["coupon"],setup(){return{}},computed:{...(0,n.Se)({viewUser:"user/viewUser"})}}),wa=(0,R.Z)(va,[["render",ma],["__scopeId","data-v-5c668f05"]]),ga=wa;M()(va,"components",{QSeparator:ne.Z});const xa=e=>((0,a.dD)("data-v-7b018549"),e=e(),(0,a.Cn)(),e),fa=xa((()=>(0,a._)("div",{class:"text-weight-bold text-secondary"},"Доставка",-1))),ka={key:0,class:"text-subtitle1 text-red"},_a={key:1,class:"row text-secondary"},ya={class:"col-12 col-md-3 col-sm-6 rounded-borders q-pa-sm q-my-sm outline"},ba={class:"text-subtitle1 text-center"},ha={class:"text-subtitle1 text-center text-secondary text-weight-bold"},qa={class:"text-caption text-secondary"};function Wa(e,t,s,o,n,c){var l,i,d;const u=(0,a.up)("q-separator");return(0,a.wg)(),(0,a.iD)(a.HY,null,[fa,(0,a.Wm)(u,{dark:e.viewUser.theme.is_dark},null,8,["dark"]),null==e.delivery?((0,a.wg)(),(0,a.iD)("div",ka," Доставка не была выбрана ")):(0,a.kq)("",!0),null!=e.delivery?((0,a.wg)(),(0,a.iD)("div",_a,[(0,a._)("div",ya,[(0,a._)("div",ba,(0,r.zw)(null===(l=e.delivery)||void 0===l?void 0:l.description),1),(0,a.Wm)(u,{color:"secondary"}),(0,a._)("div",ha,(0,r.zw)(null===(i=e.delivery)||void 0===i?void 0:i.price),1),(0,a._)("div",qa,(0,r.zw)(null===(d=e.delivery)||void 0===d?void 0:d.title),1)])])):(0,a.kq)("",!0)],64)}const Za=(0,a.aZ)({props:["delivery"],setup(){return{}},computed:{...(0,n.Se)({viewUser:"user/viewUser"})}}),Ca=(0,R.Z)(Za,[["render",Wa],["__scopeId","data-v-7b018549"]]),Ua=Ca;M()(Za,"components",{QSeparator:ne.Z});const Da=e=>((0,a.dD)("data-v-ec1e9cc0"),e=e(),(0,a.Cn)(),e),Ba=Da((()=>(0,a._)("div",{class:"text-weight-bold text-secondary"},"Примененная скидка",-1))),za={key:0,class:"text-subtitle1 text-red-5"},Ia={key:1,class:"row"},Sa={class:"col-12 col-md-3 col-sm-6"},Qa={class:"outline rounded-borders q-pa-sm q-my-sm"},Oa={class:"text-subtitle1 text-center text-secondary"},Pa={class:"text-caption text-secondary"};function ja(e,t,s,o,n,c){const l=(0,a.up)("q-separator");return(0,a.wg)(),(0,a.iD)(a.HY,null,[Ba,(0,a.Wm)(l,{dark:e.viewUser.theme.is_dark},null,8,["dark"]),e.checkDiscount?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",za," Скидка не применялась ")),e.checkDiscount?((0,a.wg)(),(0,a.iD)("div",Ia,[(0,a._)("div",Sa,[(0,a._)("div",Qa,[(0,a._)("div",Oa,(0,r.zw)(e.checkDiscount.info),1),(0,a.Wm)(l,{color:"secondary"}),(0,a._)("div",Pa,(0,r.zw)(e.checkDiscount.terms),1)])])])):(0,a.kq)("",!0)],64)}const Ta=(0,a.aZ)({props:["item"],setup(){return{}},computed:{...(0,n.Se)({viewUser:"user/viewUser"}),checkDiscount(){return this.item.discounts.find((e=>e.id==this.item.discount.discount_id))}}}),Ha=(0,R.Z)(Ta,[["render",ja],["__scopeId","data-v-ec1e9cc0"]]),Va=Ha;M()(Ta,"components",{QSeparator:ne.Z});const Ra=(0,a._)("div",{class:"text-weight-bold text-secondary"},"Способ оплаты",-1),Aa={key:0,class:"text-subtitle1 text-red"};function Ya(e,t,s,r,o,n){const c=(0,a.up)("q-separator");return(0,a.wg)(),(0,a.iD)(a.HY,null,[Ra,(0,a.Wm)(c,{dark:e.viewUser.theme.is_dark},null,8,["dark"]),null==e.payment?((0,a.wg)(),(0,a.iD)("div",Aa," Способ оплаты не был выбран ")):(0,a.kq)("",!0)],64)}const Ka=(0,a.aZ)({props:["payment"],setup(){return{}},computed:{...(0,n.Se)({viewUser:"user/viewUser"})}}),$a=(0,R.Z)(Ka,[["render",Ya]]),Na=$a;M()(Ka,"components",{QSeparator:ne.Z});const Fa=(0,a.aZ)({props:["select"],components:{UsedCoupon:ga,UsedDelivery:Ua,UsedDiscount:Va,UsedPayment:Na},setup(){return{}},computed:{...(0,n.Se)({viewUser:"user/viewUser"})},methods:{...(0,n.OI)({changeOrdersSelect:"order/changeOrdersSelect"})}}),Ea=(0,R.Z)(Fa,[["render",ca]]),Ma=Ea;M()(Fa,"components",{QBtn:N.Z,QSeparator:ne.Z});const Ga=(0,a.aZ)({components:{AllOrders:Ks,CurrentOrder:Ma},setup(){return{}},computed:{...(0,n.Se)({viewOrders:"order/viewOrders",viewUser:"user/viewUser"}),themeColor(){return this.viewUser.theme.is_dark?"bg-dark":"bg-white"}}});var La=s(9800),Xa=s(4106);const Ja=(0,R.Z)(Ga,[["render",cs]]),er=Ja;M()(Ga,"components",{QTabPanels:La.Z,QTabPanel:Xa.Z});const tr={class:"max-xxl center q-px-md"},sr={class:"max-md center"},ar={class:"row q-mb-lg q-mt-sm"},rr={class:"col-12"};function or(e,t,s,r,o,n){const c=(0,a.up)("FormDelivery"),l=(0,a.up)("q-btn");return(0,a.wg)(),(0,a.iD)("div",tr,[(0,a.Wm)(c),(0,a._)("div",sr,[(0,a._)("div",ar,[(0,a._)("div",rr,[(0,a.Wm)(l,{flat:"",color:"red-6",label:"Отменить заказ",class:"fit",onClick:t[0]||(t[0]=t=>e.changeInfoDialogs({section:"order",value:null}))})])])])])}const nr={class:"max-md center"},cr=(0,a._)("div",{class:"text-h5 text-secondary"},"Выберите способ доставки",-1);function lr(e,t,s,r,o,n){const c=(0,a.up)("AllDelivelyes");return(0,a.wg)(),(0,a.iD)("div",nr,[cr,(0,a.Wm)(c)])}const ir=e=>((0,a.dD)("data-v-42904386"),e=e(),(0,a.Cn)(),e),dr={key:0,class:"flex flex-center min-h-sm"},ur={key:1,class:""},pr=ir((()=>(0,a._)("div",{class:"text-h6 q-py-md"}," Для того чтобы продолжить необходимо перейти в приложение Telegram. ",-1))),mr={key:2,class:"row q-col-gutter-sm"},vr={class:"text-secondary fit"},wr={class:"text-subtitle1 text-weight-bold"},gr={class:"text-subtitle2"},xr={class:"text-weight-bold text-subtitle2"},fr=(0,a.Uk)(" Стоимость "),kr={class:"text-secondary"};function _r(e,t,s,o,n,c){const l=(0,a.up)("q-spinner"),i=(0,a.up)("q-btn"),d=(0,a.up)("q-separator");return(0,a.wg)(),(0,a.iD)(a.HY,null,[e.viewDelivery.loading&&!e.select?((0,a.wg)(),(0,a.iD)("div",dr,[(0,a.Wm)(l,{color:"secondary",size:"3rem"})])):(0,a.kq)("",!0),e.select?((0,a.wg)(),(0,a.iD)("div",ur,[pr,(0,a.Wm)(i,{class:"full-width",color:"secondary",label:"Перейти"})])):(0,a.kq)("",!0),e.viewDelivery.loading||e.select?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",mr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.viewDelivery.data,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-12",key:s},[(0,a.Wm)(i,{align:"left",color:"secondary","text-color":"primary",outline:"",class:"fit","no-caps":"",onClick:s=>{e.setDelivery({action:"set-delivery",order_id:e.order.id,delivery_id:t.id}),e.select=!e.select}},{default:(0,a.w5)((()=>[(0,a._)("div",vr,[(0,a._)("div",wr,(0,r.zw)(t.title),1),(0,a.Wm)(d,{color:"secondary",class:"q-mt-xs q-mb-xs"}),(0,a._)("div",gr,(0,r.zw)(t.description),1),(0,a._)("div",xr,[fr,(0,a._)("span",kr,(0,r.zw)(t.price),1)])])])),_:2},1032,["onClick"])])))),128))]))],64)}const yr=(0,a.aZ)({setup(){return{select:(0,j.iH)(!1)}},computed:{...(0,n.Se)({viewDelivery:"form/viewDelivery",order:"order/viewNewOrder"})},methods:{...(0,n.nv)({getDelivery:"form/getDelivery",setDelivery:"order/getOrders"}),...(0,n.OI)({changeFormSelect:"form/changeFormSelect"})},mounted(){this.getDelivery({action:"index"})}}),br=(0,R.Z)(yr,[["render",_r],["__scopeId","data-v-42904386"]]),hr=br;M()(yr,"components",{QSpinner:Be.Z,QBtn:N.Z,QSeparator:ne.Z});const qr=(0,a.aZ)({components:{AllDelivelyes:hr},setup(){return{}},computed:{...(0,n.Se)({viewDelivery:"form/viewDelivery"})},methods:{},mounted(){}}),Wr=(0,R.Z)(qr,[["render",lr]]),Zr=Wr;M()(qr,"components",{QTabPanels:La.Z,QTabPanel:Xa.Z});const Cr=(0,a.aZ)({setup(){return{step:(0,j.iH)(0),steps:(0,j.iH)([]),sure:(0,j.iH)(!1)}},components:{FormDelivery:Zr},computed:{...(0,n.Se)({viewDelivery:"form/viewDelivery",viewCoupon:"form/viewCoupon",viewBasket:"basket/viewBasket",balance:"user/viewUser"}),themeColor(){return this.balance.theme.is_dark?"bg-dark":"bg-white"}},methods:{...(0,n.nv)({getOrders:"order/getOrders"}),...(0,n.OI)({changeInfoDialogs:"info/changeInfoDialogs"}),next(){this.step!=this.steps.length-1&&this.step++},prev(){0!=this.step&&this.step--},currentCountOfSteps(){0!=+this.balance.data.balance&&this.steps.push("1"),0!="delivery".length&&this.steps.push("3")}},mounted(){this.currentCountOfSteps()}}),Ur=(0,R.Z)(Cr,[["render",or],["__scopeId","data-v-132bcc70"]]),Dr=Ur;M()(Cr,"components",{QSeparator:ne.Z,QTabPanels:La.Z,QTabPanel:Xa.Z,QBtn:N.Z});const Br=e=>((0,a.dD)("data-v-cffc6190"),e=e(),(0,a.Cn)(),e),zr={class:"max-lg center q-pb-xl"},Ir={class:"user flex items-center q-pa-md flex flex-center"},Sr={class:"text-h6 q-pl-md"},Qr={class:"text-secondary"},Or={class:"text-caption text-weight-bold"},Pr=["href"],jr=Br((()=>(0,a._)("div",{class:""},"Кошелёк",-1))),Tr={class:"text-weight-bold text-secondary"},Hr=Br((()=>(0,a._)("div",{class:""},"Заказы",-1))),Vr={class:"text-weight-bold text-secondary"},Rr=Br((()=>(0,a._)("div",{class:""},"Правила и помощь в магазине",-1))),Ar=Br((()=>(0,a._)("div",{class:""},"Акции в магазине",-1))),Yr=Br((()=>(0,a._)("div",{class:""},"Стиль приложения",-1))),Kr=Br((()=>(0,a._)("div",{class:""},"О боте",-1))),$r={class:""},Nr=(0,a.Uk)(" Название "),Fr=(0,a.Uk)(" Тип бота "),Er=(0,a.Uk)(" Валюта в боте "),Mr=(0,a.Uk)(" Язык в боте "),Gr=Br((()=>(0,a._)("div",{class:""},"О сервисе",-1))),Lr=Br((()=>(0,a._)("div",{class:"q-pa-md"},[(0,a._)("a",{href:"https://bot-t.ru",class:"text-grey"}," Сервис создания бесплатных магазинов в телеграм для продажи товаров через бота! Бесплатный сервис для создания ботов по автоматической продаже товаров в телеграм. Автоматизируйте свой...")],-1))),Xr=[Lr];function Jr(e,t,s,o,n,l){const i=(0,a.up)("q-avatar"),d=(0,a.up)("q-item-section"),u=(0,a.up)("q-item-label"),p=(0,a.up)("q-item"),m=(0,a.up)("q-list"),v=(0,a.up)("q-slide-transition");return(0,a.wg)(),(0,a.iD)("div",zr,[(0,a._)("div",Ir,[(0,a.Wm)(i,{size:"100px","font-size":"52px",color:"primary","text-color":"secondary",icon:"person"}),(0,a._)("div",Sr,[(0,a._)("div",Qr,(0,r.zw)(e.viewUser.data.first_name)+" "+(0,r.zw)(e.viewUser.data.last_name),1),(0,a._)("div",Or,[(0,a._)("a",{class:"user text-secondary",href:`https://t.me/${e.viewUser.data.username}`},"@"+(0,r.zw)(e.viewUser.data.username),9,Pr)])])]),(0,a.Wm)(m,{separator:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{clickable:"",class:"rounded-borders"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{size:"30px","font-size":"22px",color:"transparent","text-color":"secondary",icon:"account_balance_wallet"})])),_:1}),(0,a.Wm)(d,{class:"text-subtitle1 text-secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{lines:"1",class:"flex items-center justify-between"},{default:(0,a.w5)((()=>[jr,(0,a._)("div",Tr,(0,r.zw)(e.viewUser.data.balance)+" "+(0,r.zw)(e.convertСurrency),1)])),_:1})])),_:1})])),_:1}),(0,a.Wm)(p,{clickable:"",onClick:t[0]||(t[0]=t=>e.changeTabs("orders")),class:"rounded-borders"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{size:"30px","font-size":"22px",color:"transparent","text-color":"secondary",icon:"reorder"})])),_:1}),(0,a.Wm)(d,{class:"text-subtitle1 text-secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{lines:"1",class:"flex items-center justify-between"},{default:(0,a.w5)((()=>[Hr,(0,a._)("div",Vr,(0,r.zw)(e.viewOrders.count),1)])),_:1})])),_:1})])),_:1}),(0,a.Wm)(p,{clickable:"",onClick:t[1]||(t[1]=t=>e.changeTabs("rules")),class:"rounded-borders"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{size:"30px","font-size":"22px",color:"transparent","text-color":"secondary",icon:"gavel"})])),_:1}),(0,a.Wm)(d,{class:"text-subtitle1 text-secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{lines:"1",class:"flex items-center justify-between"},{default:(0,a.w5)((()=>[Rr])),_:1})])),_:1})])),_:1}),(0,a.Wm)(p,{clickable:"",onClick:t[2]||(t[2]=t=>e.changeTabs("sales")),class:"rounded-borders"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{size:"30px","font-size":"22px",color:"transparent","text-color":"secondary",icon:"receipt"})])),_:1}),(0,a.Wm)(d,{class:"text-subtitle1 text-secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{lines:"1",class:"flex items-center justify-between"},{default:(0,a.w5)((()=>[Ar])),_:1})])),_:1})])),_:1}),(0,a.Wm)(p,{clickable:"",onClick:t[3]||(t[3]=t=>e.changeTabs("appStyle")),class:"rounded-borders"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{size:"30px","font-size":"22px",color:"transparent","text-color":"secondary",icon:"style"})])),_:1}),(0,a.Wm)(d,{class:"text-subtitle1 text-secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{lines:"1",class:"flex items-center justify-between"},{default:(0,a.w5)((()=>[Yr])),_:1})])),_:1})])),_:1}),(0,a.Wm)(p,{clickable:"",onClick:t[4]||(t[4]=t=>e.botinfo=!e.botinfo),class:"rounded-borders"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{size:"30px","font-size":"22px",color:"transparent","text-color":"secondary",icon:"info"})])),_:1}),(0,a.Wm)(d,{class:"text-subtitle1 text-secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{lines:"1",class:"flex items-center justify-between"},{default:(0,a.w5)((()=>[Kr])),_:1})])),_:1}),(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{size:"30px","font-size":"30px",color:"transparent","text-color":"secondary",icon:e.botinfo?"arrow_drop_up":"arrow_drop_down"},null,8,["icon"])])),_:1})])),_:1}),(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",null,[(0,a._)("div",$r,[(0,a.Wm)(m,{separator:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{clickable:"",dense:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[Nr])),_:1}),(0,a.Wm)(d,{class:"text-secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.viewInfo.bot.title),1)])),_:1})])),_:1}),(0,a.Wm)(p,{clickable:"",dense:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[Fr])),_:1}),(0,a.Wm)(d,{class:"text-secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.viewInfo.bot.type),1)])),_:1})])),_:1}),(0,a.Wm)(p,{clickable:"",dense:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[Er])),_:1}),(0,a.Wm)(d,{class:"text-secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.convertСurrency),1)])),_:1})])),_:1}),(0,a.Wm)(p,{clickable:"",dense:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[Mr])),_:1}),(0,a.Wm)(d,{class:"text-secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.viewInfo.bot.language),1)])),_:1})])),_:1})])),_:1})])],512),[[c.F8,e.botinfo]])])),_:1}),(0,a.Wm)(p,{clickable:"",onClick:t[5]||(t[5]=t=>e.info=!e.info),class:"rounded-borders"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{size:"30px","font-size":"22px",color:"transparent","text-color":"secondary",icon:"info"})])),_:1}),(0,a.Wm)(d,{class:"text-subtitle1 text-secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{lines:"1",class:"flex items-center justify-between"},{default:(0,a.w5)((()=>[Gr])),_:1})])),_:1}),(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{size:"30px","font-size":"30px",color:"transparent","text-color":"secondary",icon:e.info?"arrow_drop_up":"arrow_drop_down"},null,8,["icon"])])),_:1})])),_:1}),(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",null,Xr,512),[[c.F8,e.info]])])),_:1})])),_:1})])}const eo=(0,a.aZ)({name:"MainLayout",components:{},setup(){return{info:(0,j.iH)(!1),botinfo:(0,j.iH)(!1)}},computed:{...(0,n.Se)({viewUser:"user/viewUser",viewInfo:"info/viewInfo"}),...(0,n.Se)({viewOrders:"order/viewOrders"}),convertСurrency(){switch(this.viewUser.data.currency){case"RUB":return"₽";case"USD":return"$";case"EUR":return"€";case"UAH":return"₴";case"KZT":return"₸";default:return this.viewUserData.currency}}},methods:{...(0,n.OI)({changeTabs:"user/changeUserTab"})},watch:{},mounted(){}});var to=s(3246),so=s(490),ao=s(1233),ro=s(3115),oo=s(9003);const no=(0,R.Z)(eo,[["render",Jr],["__scopeId","data-v-cffc6190"]]),co=no;M()(eo,"components",{QAvatar:et.Z,QList:to.Z,QItem:so.Z,QItemSection:ao.Z,QItemLabel:ro.Z,QSlideTransition:oo.Z});const lo=e=>((0,a.dD)("data-v-65d7660c"),e=e(),(0,a.Cn)(),e),io={class:"max-xxl center q-pa-md min-h-md non-selectable"},uo=lo((()=>(0,a._)("div",{class:"my-header text-secondary"},"Стиль приложения",-1))),po={class:"relative-position fit flex flex-center"},mo=(0,a.Uk)("Сменить тему"),vo=lo((()=>(0,a._)("div",{class:"text-secondary text-h6 q-py-sm"},"Сменить цвет",-1))),wo={class:"row q-col-gutter-sm"},go=["onClick"],xo={class:"q-pa-md self-end"},fo={class:""},ko=lo((()=>(0,a._)("div",{class:"text-accent text-overline"},"Сменить тему",-1)));function _o(e,t,s,o,n,l){const i=(0,a.up)("q-separator"),d=(0,a.up)("q-avatar"),u=(0,a.up)("q-item-section"),p=(0,a.up)("q-item-label"),m=(0,a.up)("q-item");return(0,a.wg)(),(0,a.iD)("div",io,[uo,(0,a.Wm)(i,{class:"q-mb-xs",dark:e.viewColors.theme.is_dark},null,8,["dark"]),(0,a.Wm)(m,{clickable:"",onClick:t[0]||(t[0]=t=>e.changeUserTheme()),class:"non-selectable"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{top:"",avatar:"",class:"flex flex-center"},{default:(0,a.w5)((()=>[(0,a._)("div",po,[(0,a.Wm)(c.uT,{name:"slide-up"},{default:(0,a.w5)((()=>[e.viewColors.theme.is_dark?((0,a.wg)(),(0,a.j4)(d,{key:0,size:"50px",class:"absolute",color:"transparent","text-color":"white",icon:"dark_mode"})):((0,a.wg)(),(0,a.j4)(d,{key:1,size:"50px",class:"absolute",color:"transparent","text-color":"dark",icon:"sunny"}))])),_:1})])])),_:1}),(0,a.Wm)(u,{class:"text-secondary"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[mo])),_:1}),(0,a.Wm)(p,{class:"text-secondary",caption:"",lines:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.viewColors.theme.is_dark?"Светлая":"Темная")+" тема",1)])),_:1})])),_:1})])),_:1}),vo,(0,a._)("div",wo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.viewColors.colors,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-12 col-sm-3 cursor-pointer",key:s,onClick:s=>e.changeColor(t)},[(0,a._)("div",{class:"fit rounded-borders row relative-position",style:(0,r.j5)({color:e.viewColors.theme.is_dark?t.text.dark:t.text.light,background:e.viewColors.theme.is_dark?t.background.dark:t.background.light,minHeight:"130px"})},[(0,a.Wm)(c.uT,{name:"slide-up"},{default:(0,a.w5)((()=>[t.select?((0,a.wg)(),(0,a.j4)(d,{key:0,size:"35px","font-size":"25px",color:"transparent","text-color":"green",icon:"done",class:"absolute-right"})):(0,a.kq)("",!0)])),_:2},1024),(0,a._)("div",{class:"q-ma-md q-pa-md rounded-borders",style:(0,r.j5)({background:e.viewColors.theme.is_dark?t.text.dark:t.text.light})},null,4),(0,a._)("div",xo,[(0,a._)("div",fo,(0,r.zw)(t.name),1),ko])],4)],8,go)))),128))])])}s(7674),s(2729);const yo={setup(){const e=(0,Ye.Z)(),t=(0,a.Fl)((()=>e.screen.lt.sm));return{width:t,value:(0,j.iH)(!1)}},computed:{...(0,n.Se)({viewColors:"user/viewUser"})},methods:{...(0,n.OI)({changeColor:"user/changeColor",changeUserTheme:"user/changeUserTheme"})},watch:{}},bo=(0,R.Z)(yo,[["render",_o],["__scopeId","data-v-65d7660c"]]),ho=bo;M()(yo,"components",{QSeparator:ne.Z,QItem:so.Z,QItemSection:ao.Z,QAvatar:et.Z,QItemLabel:ro.Z});const qo={class:"max-xxl center q-pa-md"},Wo=(0,a._)("div",{class:"text-h4 text-secondary"},"Правила и помощь в магазине",-1),Zo={key:0,class:"flex flex-center q-pa-xl"},Co={key:1,class:"q-pa-md text-h6 text-secondary"},Uo={key:2,class:"q-py-md text-secondary"},Do=(0,a._)("div",{class:"text-h6"},"Помощь",-1),Bo={class:"text-secondary"},zo={key:3,class:"q-py-md text-secondary"},Io=(0,a._)("div",{class:"text-h6"},"Правила",-1),So={class:""};function Qo(e,t,s,o,n,c){var l,i,d,u;const p=(0,a.up)("q-separator"),m=(0,a.up)("q-spinner");return(0,a.wg)(),(0,a.iD)("div",qo,[Wo,(0,a.Wm)(p,{class:"q-mt-sm"}),e.viewInfo.loading.rules?((0,a.wg)(),(0,a.iD)("div",Zo,[(0,a.Wm)(m,{color:"secondary",size:"3rem"})])):(0,a.kq)("",!0),null==(null===(l=e.viewInfo.rules)||void 0===l?void 0:l.help)&&null==(null===(i=e.viewInfo.rules)||void 0===i?void 0:i.rules)?((0,a.wg)(),(0,a.iD)("div",Co," Владелец магазина пока не заполнил данную информацию. ")):(0,a.kq)("",!0),e.viewInfo.loading.rules?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Uo,[Do,(0,a._)("div",Bo,(0,r.zw)(null===(d=e.viewInfo.rules)||void 0===d?void 0:d.help),1)])),e.viewInfo.loading.rules?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",zo,[Io,(0,a._)("div",So,(0,r.zw)(null===(u=e.viewInfo.rules)||void 0===u?void 0:u.rules),1)]))])}const Oo=(0,a.aZ)({setup(){return{}},computed:{...(0,n.Se)({viewInfo:"info/viewInfo"})},methods:{...(0,n.nv)({getRules:"info/getRules"})},mounted(){this.getRules()}}),Po=(0,R.Z)(Oo,[["render",Qo]]),jo=Po;M()(Oo,"components",{QSeparator:ne.Z,QSpinner:Be.Z});const To=e=>((0,a.dD)("data-v-29b47e8c"),e=e(),(0,a.Cn)(),e),Ho={class:"max-xxl center q-pa-md"},Vo=To((()=>(0,a._)("div",{class:"text-h4 text-secondary"},"Акции в магазине",-1))),Ro={key:0,class:"flex flex-center q-pa-xl"},Ao={key:1,class:"row q-col-gutter-sm q-pt-md"},Yo={class:"rounded-borders q-pa-sm fit outline"},Ko={class:"text-weight-bold text-center"},$o={class:"text-grey-8"};function No(e,t,s,o,n,c){const l=(0,a.up)("q-separator"),i=(0,a.up)("q-spinner");return(0,a.wg)(),(0,a.iD)("div",Ho,[Vo,(0,a.Wm)(l,{class:"q-mt-sm"}),e.viewInfo.loading.sales?((0,a.wg)(),(0,a.iD)("div",Ro,[(0,a.Wm)(i,{color:"secondary",size:"3rem"})])):(0,a.kq)("",!0),e.viewInfo.loading.sales?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Ao,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.viewInfo.sales,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-12 col-sm-6",key:s},[(0,a._)("div",Yo,[(0,a._)("div",Ko,(0,r.zw)(e.TagParser(t.info)),1),(0,a.Wm)(l,{spaced:"",color:"secondary"}),(0,a._)("div",$o,(0,r.zw)(e.TagParser(t.terms)),1)])])))),128))]))])}const Fo=(0,a.aZ)({setup(){return{}},computed:{...(0,n.Se)({viewInfo:"info/viewInfo"})},methods:{...(0,n.nv)({getSales:"info/getSales"}),TagParser(e){let t=e;for(let s of["b","i","em","small","strong","q","s","u"]){let e=new RegExp(`<${s}>`);t=t.replace(e,""),e=new RegExp(`</${s}>`),t=t.replace(e,"")}return t}},mounted(){this.getSales()}}),Eo=(0,R.Z)(Fo,[["render",No],["__scopeId","data-v-29b47e8c"]]),Mo=Eo;M()(Fo,"components",{QSeparator:ne.Z,QSpinner:Be.Z});const Go=(0,a._)("span",{class:""},"Это действие отменит заказ. Вы уверены, что хотите отменить заказ?",-1);function Lo(e,t,s,r,o,n){const c=(0,a.up)("q-card-section"),l=(0,a.up)("q-btn"),i=(0,a.up)("q-card-actions"),d=(0,a.up)("q-card"),u=(0,a.up)("q-dialog");return(0,a.wg)(),(0,a.j4)(u,{modelValue:e.viewInfo.dialogs.order.open,"onUpdate:modelValue":t[2]||(t[2]=t=>e.viewInfo.dialogs.order.open=t),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{dark:e.viewUser.theme.is_dark},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"row items-center"},{default:(0,a.w5)((()=>[Go])),_:1}),(0,a.Wm)(i,{align:"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{flat:"",loading:e.viewOrders.loading.cancel,label:"Отменить заказ",color:"red",onClick:t[0]||(t[0]=t=>this.getOrders({action:"cancel",order_id:e.viewNewOrder.id,is_back_cart:1}))},null,8,["loading"]),(0,a.Wm)(l,{flat:"",label:"закончить заказ",color:"secondary",onClick:t[1]||(t[1]=t=>e.changeInfoDialogs({section:"order"}))})])),_:1})])),_:1},8,["dark"])])),_:1},8,["modelValue"])}const Xo=(0,a.aZ)({props:["option"],setup(){return{text:(0,j.iH)([])}},computed:{...(0,n.Se)({viewInfo:"info/viewInfo",viewUser:"user/viewUser",viewOrders:"order/viewOrders",viewNewOrder:"order/viewNewOrder"})},methods:{...(0,n.nv)({getOrders:"order/getOrders"}),...(0,n.OI)({changeTabs:"user/changeUserTab",changeInfoDialogs:"info/changeInfoDialogs"})}}),Jo=(0,R.Z)(Xo,[["render",Lo]]),en=Jo;M()(Xo,"components",{QDialog:A.Z,QCard:Y.Z,QCardSection:K.Z,QCardActions:$.Z,QBtn:N.Z});const tn=(0,a.aZ)({name:"IndexPage",components:{Catalog:os,Basket:it,Orders:er,FormOrder:Dr,Profile:co,AppStyle:ho,BotRules:jo,SalesBot:Mo,OrderDanger:en},setup(){return{}},computed:{...(0,n.Se)({viewUser:"user/viewUser",viewTab:"user/viewTab"}),themeColor(){return this.viewUser.theme.is_dark?"bg-dark":"bg-white"}},methods:{...(0,n.nv)(["getUserData","getAllProducts"])},mounted(){}});var sn=s(9885);const an=(0,R.Z)(tn,[["render",o],["__scopeId","data-v-59b4acdc"]]),rn=an;M()(tn,"components",{QPage:sn.Z,QTabPanels:La.Z,QTabPanel:Xa.Z,QSeparator:ne.Z,QBtn:N.Z,QAvatar:et.Z})}}]);